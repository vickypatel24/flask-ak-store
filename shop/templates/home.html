{% extends "layout.html" %}
{% block content %}
    <h1>Welcome to our E-commerce Store!</h1>
    <p>Browse our products below.</p>
    
    <div class="product-grid" style="display: flex; flex-wrap: wrap; gap: 20px;">
        {% for product in products %}
            <div class="product-card" style="border: 1px solid #ccc; padding: 15px; width: 220px; text-align: center;">
                <img src="{{ url_for('static', filename=product.image_file) }}" alt="{{ product.name }}" style="width: 100%; height: auto; max-height: 200px; object-fit: cover;">
                
                <!-- Make the product name a link as well -->
                <a href="{{ url_for('routes.product', product_id=product.id) }}" style="text-decoration: none; color: black;">
                    <h3>{{ product.name }}</h3>
                </a>

                <p>${{ "%.2f"|format(product.price) }}</p>

                <!-- MODIFIED LINE -->
                <a href="{{ url_for('routes.product', product_id=product.id) }}">View Details</a>
            </div>
        {% else %}
            <p>No products found.</p>
        {% endfor %}
    </div>
{% endblock content %}